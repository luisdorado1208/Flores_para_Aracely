:root{
  --gold:#ffca28;
  --paper:#fffdf5;
  --text:#3d2a00;
  --accent:#ffb300;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg,#fffde7,#fff8b2);
  font-family: "Segoe UI", Arial, sans-serif;
  perspective:1400px;
  padding:2rem;
  overflow-x:hidden;
}

.wrap{
  width: min(760px, 95%);
  height: 500px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:auto;
  position:relative;
  z-index: 10;
}

.card {
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition: transform 900ms cubic-bezier(.2,.9,.3,1);
  transform-origin: center;
  border-radius:16px;
}

.card-front, .card-inside{
  position:absolute;
  inset:0;
  border-radius:14px;
  border:6px solid var(--gold);
  background: var(--paper);
  box-shadow: 0 18px 40px rgba(0,0,0,0.18), inset 0 0 18px rgba(255,200,0,0.08);
  backface-visibility:hidden;
  display:flex;
  flex-direction:column;
  padding:22px;
  overflow:hidden;
}

.card-front{
  z-index:2;
  align-items:center;
  justify-content:center;
  gap:8px;
}
.cover-title{ font-size:1.9rem; color:#5a3700; text-align:center; }
.cover-sub{ color:#7a4c00; margin-bottom:6px; text-align:center }

.open-btn{
  padding:.8rem 1.4rem;
  border-radius:12px;
  border:none;
  cursor:pointer;
  background:linear-gradient(90deg,#ffd54a,#ffb300);
  font-weight:700;
  color:#3a2a05;
  box-shadow:0 8px 18px rgba(255,170,0,0.18);
}

.card-inside{
  transform: rotateY(180deg);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:14px;
}

.message{ font-size:1.35rem; color:#a06100; text-align:center }
.text{ color:var(--text); font-size:1rem; line-height:1.45; text-align:center }

.btn-secret, .btn-music{
  padding:.8rem 1.4rem;
  border-radius:12px;
  border:none;
  cursor:pointer;
  background:linear-gradient(90deg,#ffd54a,#ffb300);
  font-weight:700;
  color:#3a2a05;
  box-shadow:0 8px 18px rgba(255,170,0,0.18);
  position:relative;
  animation: jump 1.5s ease-in-out infinite;
}
@keyframes jump{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-6px); }
}
.btn-secret:hover, .btn-music:hover{
  box-shadow:0 12px 24px rgba(255,170,0,0.3);
  transform: scale(1.05);
}

.footer-emo{ margin-top:12px; font-size:20px; color:var(--accent) }

.spongebob-img { width: 120px; height: auto; margin-top: 12px; border-radius:12px; box-shadow: 0 6px 16px rgba(0,0,0,0.2); }

.popup{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.6); visibility:hidden; opacity:0; transition:.25s; z-index:999;
}
.popup.show{ visibility:visible; opacity:1 }
.popup-content{
  background:#fff8dc; padding:20px; border-radius:12px; max-width:420px; text-align:center;
  box-shadow:0 14px 36px rgba(0,0,0,0.28);
  transform:translateY(8px); animation:pop .35s ease;
}
@keyframes pop{ from{transform:translateY(20px) scale(.96)} to{transform:translateY(0) scale(1)} }
.close-btn{ margin-top:12px; padding:.6rem 1rem; border-radius:10px; border:none; cursor:pointer; background:#f9a825; color:white; font-weight:700 }

.card.open{ transform: rotateY(-180deg) scale(1.01); }

.falling{
  position: absolute;
  top: -100px;
  width: 40px;
  height: 100px;
  animation: fall linear infinite;
  z-index: 1;
}
@keyframes fall {
  0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(360deg); opacity: 0.8; }
}
.falling .stem{ position: absolute; bottom: 0; left: 50%; width: 6px; height: 80px; background: green; transform: translateX(-50%); border-radius: 3px; }
.falling .leaf{ position: absolute; bottom: 20px; width: 20px; height: 40px; background: green; border-radius: 50%; }
.falling .leaf.left{ left: -15px; transform: rotate(-30deg); }
.falling .leaf.right{ right: -15px; transform: rotate(30deg); }
.falling .flower{ position: absolute; bottom: 70px; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; background: #ffd93d; border-radius: 50% 50% 0 0; overflow: hidden; box-shadow: inset -3px -3px 10px rgba(0,0,0,0.1); }
.falling .petal{ position: absolute; width: 25px; height: 50px; background: #f5b700; border-radius: 50%; top: 0; }
.falling .petal.left{ left: -10px; transform: rotate(-15deg); }
.falling .petal.right{ right: -10px; transform: rotate(15deg); }

@media (max-width:720px){
  .wrap{ height:auto; padding:12px 0; }
  .card{ height: auto; }
  .cover-title{ font-size:1.5rem; }
  .cover-sub{ font-size:1rem; }
  .open-btn, .btn-secret, .btn-music{ padding:.6rem 1rem; font-size:.9rem; }
  .message{ font-size:1.2rem; }
  .text{ font-size:.95rem; }
  .spongebob-img{ width: 90px; }
  .footer-emo{ font-size:18px; }
}
